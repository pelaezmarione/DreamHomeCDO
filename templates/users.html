{% extends "base.html" %}
{% block content %}
<h2>Manage Users</h2>

<form method="post" class="form-card">
  <h3>Create User</h3>

  <label>First Name</label>
  <input name="first_name" required>

  <label>Last Name</label>
  <input name="last_name" required>

  <label>Email</label>
  <input name="email_address" type="email" required>

  <label>Password</label>
  <input name="password" type="password" required>

  <label>Role</label>
  <select name="role" required>
    <option value="admin">Admin</option>
    <option value="manager">Manager</option>
    <option value="staff">Staff</option>
  </select>

  <label>Branch (optional)</label>
  <select name="branch_key">
    <option value="">-- None (Admin) --</option>
    <option value="pueblo">Pueblo</option>
    <option value="lapasan">Lapasan</option>
  </select>

  <button type="submit">Create User</button>
</form>

<h3>System Users</h3>
<table>
  <tr>
    <th>ID</th>
    <th>Name</th>
    <th>Email</th>
    <th>Role</th>
    <th>Branch</th>
  </tr>

  {% for u in users %}
  <tr>
    <td>{{ u.admin_id }}</td>
    <td>{{ u.first_name }} {{ u.last_name }}</td>
    <td>{{ u.email_address }}</td>
    <td>{{ u.role }}</td>
    <td>{{ u.branch_key if u.branch_key else 'Main Office' }}</td>
  </tr>
  {% endfor %}
</table>

{% endblock %}
